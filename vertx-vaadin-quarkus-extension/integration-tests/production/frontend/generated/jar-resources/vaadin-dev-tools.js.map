{"version":3,"file":"vaadin-dev-tools.js","sourceRoot":"","sources":["../../../../src/main/frontend/vaadin-dev-tools.ts"],"names":[],"mappings":"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","sourcesContent":["import { css, html, LitElement, nothing } from 'lit';\nimport { property, query, state } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport { copy } from './copy-to-clipboard.js';\nimport { licenseCheckFailed, licenseCheckNoKey, licenseCheckOk, Product, licenseInit } from './License';\n\ninterface ServerInfo {\n  vaadinVersion: string;\n  flowVersion: string;\n  javaVersion: string;\n  osVersion: string;\n  productName: string;\n}\n\ninterface Feature {\n  id: string;\n  title: string;\n  moreInfoLink: string;\n  requiresServerRestart: boolean;\n  enabled: boolean;\n}\n\ninterface Tab {\n  id: 'log' | 'info' | 'features';\n  title: string;\n  render: () => unknown;\n  activate?: () => void;\n}\n\nenum ConnectionStatus {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  UNAVAILABLE = 'unavailable',\n  ERROR = 'error'\n}\n\nexport class Connection extends Object {\n  static HEARTBEAT_INTERVAL = 180000;\n\n  status: ConnectionStatus = ConnectionStatus.UNAVAILABLE;\n  webSocket?: WebSocket;\n\n  constructor(url?: string) {\n    super();\n\n    if (url) {\n      this.webSocket = new WebSocket(url);\n      this.webSocket.onmessage = (msg) => this.handleMessage(msg);\n      this.webSocket.onerror = (err) => this.handleError(err);\n      this.webSocket.onclose = (_) => {\n        if (this.status !== ConnectionStatus.ERROR) {\n          this.setStatus(ConnectionStatus.UNAVAILABLE);\n        }\n        this.webSocket = undefined;\n      };\n    }\n\n    setInterval(() => {\n      if (this.webSocket && self.status !== ConnectionStatus.ERROR && this.status !== ConnectionStatus.UNAVAILABLE) {\n        this.webSocket.send('');\n      }\n    }, Connection.HEARTBEAT_INTERVAL);\n  }\n\n  onHandshake() {\n    // Intentionally empty\n  }\n\n  onReload() {\n    // Intentionally empty\n  }\n\n  onConnectionError(_: string) {\n    // Intentionally empty\n  }\n\n  onStatusChange(_: ConnectionStatus) {\n    // Intentionally empty\n  }\n\n  onMessage(message: any) {\n    // eslint-disable-next-line no-console\n    console.error('Unknown message received from the live reload server:', message);\n  }\n\n  handleMessage(msg: any) {\n    let json;\n    try {\n      json = JSON.parse(msg.data);\n    } catch (e: any) {\n      this.handleError(`[${e.name}: ${e.message}`);\n      return;\n    }\n    if (json.command === 'hello') {\n      this.setStatus(ConnectionStatus.ACTIVE);\n      this.onHandshake();\n    } else if (json.command === 'reload') {\n      if (this.status === ConnectionStatus.ACTIVE) {\n        this.onReload();\n      }\n    } else if (json.command === 'license-check-ok') {\n      licenseCheckOk(json.data);\n    } else if (json.command === 'license-check-failed') {\n      licenseCheckFailed(json.data);\n    } else if (json.command === 'license-check-nokey') {\n      licenseCheckNoKey(json.data);\n    } else {\n      this.onMessage(json);\n    }\n  }\n\n  handleError(msg: any) {\n    // eslint-disable-next-line no-console\n    console.error(msg);\n    this.setStatus(ConnectionStatus.ERROR);\n    if (msg instanceof Event && this.webSocket) {\n      this.onConnectionError(`Error in WebSocket connection to ${this.webSocket.url}`);\n    } else {\n      this.onConnectionError(msg);\n    }\n  }\n\n  setActive(yes: boolean) {\n    if (!yes && this.status === ConnectionStatus.ACTIVE) {\n      this.setStatus(ConnectionStatus.INACTIVE);\n    } else if (yes && this.status === ConnectionStatus.INACTIVE) {\n      this.setStatus(ConnectionStatus.ACTIVE);\n    }\n  }\n\n  setStatus(status: ConnectionStatus) {\n    if (this.status !== status) {\n      this.status = status;\n      this.onStatusChange(status);\n    }\n  }\n\n  private send(command: string, data: any) {\n    const message = JSON.stringify({ command, data });\n    if (!this.webSocket) {\n      // eslint-disable-next-line no-console\n      console.error(`Unable to send message ${command}. No websocket is available`);\n    } else if (this.webSocket.readyState !== WebSocket.OPEN) {\n      this.webSocket.addEventListener('open', () => this.webSocket!.send(message));\n    } else {\n      this.webSocket.send(message);\n    }\n  }\n\n  setFeature(featureId: string, enabled: boolean) {\n    this.send('setFeature', { featureId, enabled });\n  }\n  sendTelemetry(browserData: any) {\n    this.send('reportTelemetry', { browserData });\n  }\n  sendLicenseCheck(product: Product) {\n    this.send('checkLicense', product);\n  }\n}\n\nenum MessageType {\n  LOG = 'log',\n  INFORMATION = 'information',\n  WARNING = 'warning',\n  ERROR = 'error'\n}\n\ninterface Message {\n  id: number;\n  type: MessageType;\n  message: string;\n  details?: string;\n  link?: string;\n  persistentId?: string;\n  dontShowAgain: boolean;\n  deleted: boolean;\n}\n\nexport class VaadinDevTools extends LitElement {\n  static BLUE_HSL = css`206, 100%, 70%`;\n  static GREEN_HSL = css`145, 80%, 42%`;\n  static GREY_HSL = css`0, 0%, 50%`;\n  static YELLOW_HSL = css`38, 98%, 64%`;\n  static RED_HSL = css`355, 100%, 68%`;\n  static MAX_LOG_ROWS = 1000;\n\n  static get styles() {\n    return css`\n      :host {\n        --dev-tools-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell,\n          'Helvetica Neue', sans-serif;\n        --dev-tools-font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',\n          monospace;\n\n        --dev-tools-font-size: 0.8125rem;\n        --dev-tools-font-size-small: 0.75rem;\n\n        --dev-tools-text-color: rgba(255, 255, 255, 0.8);\n        --dev-tools-text-color-secondary: rgba(255, 255, 255, 0.65);\n        --dev-tools-text-color-emphasis: rgba(255, 255, 255, 0.95);\n        --dev-tools-text-color-active: rgba(255, 255, 255, 1);\n\n        --dev-tools-background-color-inactive: rgba(45, 45, 45, 0.25);\n        --dev-tools-background-color-active: rgba(45, 45, 45, 0.98);\n        --dev-tools-background-color-active-blurred: rgba(45, 45, 45, 0.85);\n\n        --dev-tools-border-radius: 0.5rem;\n        --dev-tools-box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05), 0 4px 12px -2px rgba(0, 0, 0, 0.4);\n\n        --dev-tools-blue-hsl: ${this.BLUE_HSL};\n        --dev-tools-blue-color: hsl(var(--dev-tools-blue-hsl));\n        --dev-tools-green-hsl: ${this.GREEN_HSL};\n        --dev-tools-green-color: hsl(var(--dev-tools-green-hsl));\n        --dev-tools-grey-hsl: ${this.GREY_HSL};\n        --dev-tools-grey-color: hsl(var(--dev-tools-grey-hsl));\n        --dev-tools-yellow-hsl: ${this.YELLOW_HSL};\n        --dev-tools-yellow-color: hsl(var(--dev-tools-yellow-hsl));\n        --dev-tools-red-hsl: ${this.RED_HSL};\n        --dev-tools-red-color: hsl(var(--dev-tools-red-hsl));\n\n        /* Needs to be in ms, used in JavaScript as well */\n        --dev-tools-transition-duration: 180ms;\n\n        all: initial;\n\n        direction: ltr;\n        cursor: default;\n        font: normal 400 var(--dev-tools-font-size) / 1.125rem var(--dev-tools-font-family);\n        color: var(--dev-tools-text-color);\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        user-select: none;\n\n        position: fixed;\n        z-index: 20000;\n        pointer-events: none;\n        bottom: 0;\n        right: 0;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column-reverse;\n        align-items: flex-end;\n      }\n\n      .dev-tools {\n        pointer-events: auto;\n        display: flex;\n        align-items: center;\n        position: fixed;\n        z-index: inherit;\n        right: 0.5rem;\n        bottom: 0.5rem;\n        min-width: 1.75rem;\n        height: 1.75rem;\n        max-width: 1.75rem;\n        border-radius: 0.5rem;\n        padding: 0.375rem;\n        box-sizing: border-box;\n        background-color: var(--dev-tools-background-color-inactive);\n        box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05);\n        color: var(--dev-tools-text-color);\n        transition: var(--dev-tools-transition-duration);\n        white-space: nowrap;\n        line-height: 1rem;\n      }\n\n      .dev-tools:hover,\n      .dev-tools.active {\n        background-color: var(--dev-tools-background-color-active);\n        box-shadow: var(--dev-tools-box-shadow);\n      }\n\n      .dev-tools.active {\n        max-width: calc(100% - 1rem);\n      }\n\n      .dev-tools .dev-tools-icon {\n        flex: none;\n        pointer-events: none;\n        display: inline-block;\n        width: 1rem;\n        height: 1rem;\n        fill: #fff;\n        transition: var(--dev-tools-transition-duration);\n        margin: 0;\n      }\n\n      .dev-tools.active .dev-tools-icon {\n        opacity: 0;\n        position: absolute;\n        transform: scale(0.5);\n      }\n\n      .dev-tools .status-blip {\n        flex: none;\n        display: block;\n        width: 6px;\n        height: 6px;\n        border-radius: 50%;\n        z-index: 20001;\n        background: var(--dev-tools-grey-color);\n        position: absolute;\n        top: -1px;\n        right: -1px;\n      }\n\n      .dev-tools .status-description {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding: 0 0.25rem;\n      }\n\n      .dev-tools.error {\n        background-color: hsla(var(--dev-tools-red-hsl), 0.15);\n        animation: bounce 0.5s;\n        animation-iteration-count: 2;\n      }\n\n      .switch {\n        display: inline-flex;\n        align-items: center;\n      }\n\n      .switch input {\n        opacity: 0;\n        width: 0;\n        height: 0;\n        position: absolute;\n      }\n\n      .switch .slider {\n        display: block;\n        flex: none;\n        width: 28px;\n        height: 18px;\n        border-radius: 9px;\n        background-color: rgba(255, 255, 255, 0.3);\n        transition: var(--dev-tools-transition-duration);\n        margin-right: 0.5rem;\n      }\n\n      .switch:focus-within .slider,\n      .switch .slider:hover {\n        background-color: rgba(255, 255, 255, 0.35);\n        transition: none;\n      }\n\n      .switch input:focus-visible ~ .slider {\n        box-shadow: 0 0 0 2px var(--dev-tools-background-color-active), 0 0 0 4px var(--dev-tools-blue-color);\n      }\n\n      .switch .slider::before {\n        content: '';\n        display: block;\n        margin: 2px;\n        width: 14px;\n        height: 14px;\n        background-color: #fff;\n        transition: var(--dev-tools-transition-duration);\n        border-radius: 50%;\n      }\n\n      .switch input:checked + .slider {\n        background-color: var(--dev-tools-green-color);\n      }\n\n      .switch input:checked + .slider::before {\n        transform: translateX(10px);\n      }\n\n      .switch input:disabled + .slider::before {\n        background-color: var(--dev-tools-grey-color);\n      }\n\n      .window.hidden {\n        opacity: 0;\n        transform: scale(0);\n        position: absolute;\n      }\n\n      .window.visible {\n        transform: none;\n        opacity: 1;\n        pointer-events: auto;\n      }\n\n      .window.visible ~ .dev-tools {\n        opacity: 0;\n        pointer-events: none;\n      }\n\n      .window.visible ~ .dev-tools .dev-tools-icon,\n      .window.visible ~ .dev-tools .status-blip {\n        transition: none;\n        opacity: 0;\n      }\n\n      .window {\n        border-radius: var(--dev-tools-border-radius);\n        overflow: hidden;\n        margin: 0.5rem;\n        width: 30rem;\n        max-width: calc(100% - 1rem);\n        max-height: calc(100vh - 1rem);\n        flex-shrink: 1;\n        background-color: var(--dev-tools-background-color-active);\n        color: var(--dev-tools-text-color);\n        transition: var(--dev-tools-transition-duration);\n        transform-origin: bottom right;\n        display: flex;\n        flex-direction: column;\n        box-shadow: var(--dev-tools-box-shadow);\n        outline: none;\n      }\n\n      .window-toolbar {\n        display: flex;\n        flex: none;\n        align-items: center;\n        padding: 0.375rem;\n        white-space: nowrap;\n        order: 1;\n        background-color: rgba(0, 0, 0, 0.2);\n        gap: 0.5rem;\n      }\n\n      .tab {\n        color: var(--dev-tools-text-color-secondary);\n        font: inherit;\n        font-size: var(--dev-tools-font-size-small);\n        font-weight: 500;\n        line-height: 1;\n        padding: 0.25rem 0.375rem;\n        background: none;\n        border: none;\n        margin: 0;\n        border-radius: 0.25rem;\n        transition: var(--dev-tools-transition-duration);\n      }\n\n      .tab:hover,\n      .tab.active {\n        color: var(--dev-tools-text-color-active);\n      }\n\n      .tab.active {\n        background-color: rgba(255, 255, 255, 0.12);\n      }\n\n      .tab.unreadErrors::after {\n        content: '•';\n        color: hsl(var(--dev-tools-red-hsl));\n        font-size: 1.5rem;\n        position: absolute;\n        transform: translate(0, -50%);\n      }\n\n      .ahreflike {\n        font-weight: 500;\n        color: var(--dev-tools-text-color-secondary);\n        text-decoration: underline;\n        cursor: pointer;\n      }\n\n      .ahreflike:hover {\n        color: var(--dev-tools-text-color-emphasis);\n      }\n\n      .button {\n        all: initial;\n        font-family: inherit;\n        font-size: var(--dev-tools-font-size-small);\n        line-height: 1;\n        white-space: nowrap;\n        background-color: rgba(0, 0, 0, 0.2);\n        color: inherit;\n        font-weight: 600;\n        padding: 0.25rem 0.375rem;\n        border-radius: 0.25rem;\n      }\n\n      .button:focus,\n      .button:hover {\n        color: var(--dev-tools-text-color-emphasis);\n      }\n\n      .minimize-button {\n        flex: none;\n        width: 1rem;\n        height: 1rem;\n        color: inherit;\n        background-color: transparent;\n        border: 0;\n        padding: 0;\n        margin: 0 0 0 auto;\n        opacity: 0.8;\n      }\n\n      .minimize-button:hover {\n        opacity: 1;\n      }\n\n      .minimize-button svg {\n        max-width: 100%;\n      }\n\n      .message.information {\n        --dev-tools-notification-color: var(--dev-tools-blue-color);\n      }\n\n      .message.warning {\n        --dev-tools-notification-color: var(--dev-tools-yellow-color);\n      }\n\n      .message.error {\n        --dev-tools-notification-color: var(--dev-tools-red-color);\n      }\n\n      .message {\n        display: flex;\n        padding: 0.1875rem 0.75rem 0.1875rem 2rem;\n        background-clip: padding-box;\n      }\n\n      .message.log {\n        padding-left: 0.75rem;\n      }\n\n      .message-content {\n        margin-right: 0.5rem;\n        -webkit-user-select: text;\n        -moz-user-select: text;\n        user-select: text;\n      }\n\n      .message-heading {\n        position: relative;\n        display: flex;\n        align-items: center;\n        margin: 0.125rem 0;\n      }\n\n      .message.log {\n        color: var(--dev-tools-text-color-secondary);\n      }\n\n      .message:not(.log) .message-heading {\n        font-weight: 500;\n      }\n\n      .message.has-details .message-heading {\n        color: var(--dev-tools-text-color-emphasis);\n        font-weight: 600;\n      }\n\n      .message-heading::before {\n        position: absolute;\n        margin-left: -1.5rem;\n        display: inline-block;\n        text-align: center;\n        font-size: 0.875em;\n        font-weight: 600;\n        line-height: calc(1.25em - 2px);\n        width: 14px;\n        height: 14px;\n        box-sizing: border-box;\n        border: 1px solid transparent;\n        border-radius: 50%;\n      }\n\n      .message.information .message-heading::before {\n        content: 'i';\n        border-color: currentColor;\n        color: var(--dev-tools-notification-color);\n      }\n\n      .message.warning .message-heading::before,\n      .message.error .message-heading::before {\n        content: '!';\n        color: var(--dev-tools-background-color-active);\n        background-color: var(--dev-tools-notification-color);\n      }\n\n      .features-tray {\n        padding: 0.75rem;\n        flex: auto;\n        overflow: auto;\n        animation: fade-in var(--dev-tools-transition-duration) ease-in;\n        user-select: text;\n      }\n\n      .features-tray p {\n        margin-top: 0;\n        color: var(--dev-tools-text-color-secondary);\n      }\n\n      .features-tray .feature {\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n        padding-bottom: 0.5em;\n      }\n\n      .message .message-details {\n        font-weight: 400;\n        color: var(--dev-tools-text-color-secondary);\n        margin: 0.25rem 0;\n      }\n\n      .message .message-details[hidden] {\n        display: none;\n      }\n\n      .message .message-details p {\n        display: inline;\n        margin: 0;\n        margin-right: 0.375em;\n        word-break: break-word;\n      }\n\n      .message .persist {\n        color: var(--dev-tools-text-color-secondary);\n        white-space: nowrap;\n        margin: 0.375rem 0;\n        display: flex;\n        align-items: center;\n        position: relative;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        user-select: none;\n      }\n\n      .message .persist::before {\n        content: '';\n        width: 1em;\n        height: 1em;\n        border-radius: 0.2em;\n        margin-right: 0.375em;\n        background-color: rgba(255, 255, 255, 0.3);\n      }\n\n      .message .persist:hover::before {\n        background-color: rgba(255, 255, 255, 0.4);\n      }\n\n      .message .persist.on::before {\n        background-color: rgba(255, 255, 255, 0.9);\n      }\n\n      .message .persist.on::after {\n        content: '';\n        order: -1;\n        position: absolute;\n        width: 0.75em;\n        height: 0.25em;\n        border: 2px solid var(--dev-tools-background-color-active);\n        border-width: 0 0 2px 2px;\n        transform: translate(0.05em, -0.05em) rotate(-45deg) scale(0.8, 0.9);\n      }\n\n      .message .dismiss-message {\n        font-weight: 600;\n        align-self: stretch;\n        display: flex;\n        align-items: center;\n        padding: 0 0.25rem;\n        margin-left: 0.5rem;\n        color: var(--dev-tools-text-color-secondary);\n      }\n\n      .message .dismiss-message:hover {\n        color: var(--dev-tools-text-color);\n      }\n\n      .notification-tray {\n        display: flex;\n        flex-direction: column-reverse;\n        align-items: flex-end;\n        margin: 0.5rem;\n        flex: none;\n      }\n\n      .window.hidden + .notification-tray {\n        margin-bottom: 3rem;\n      }\n\n      .notification-tray .message {\n        pointer-events: auto;\n        background-color: var(--dev-tools-background-color-active);\n        color: var(--dev-tools-text-color);\n        max-width: 30rem;\n        box-sizing: border-box;\n        border-radius: var(--dev-tools-border-radius);\n        margin-top: 0.5rem;\n        transition: var(--dev-tools-transition-duration);\n        transform-origin: bottom right;\n        animation: slideIn var(--dev-tools-transition-duration);\n        box-shadow: var(--dev-tools-box-shadow);\n        padding-top: 0.25rem;\n        padding-bottom: 0.25rem;\n      }\n\n      .notification-tray .message.animate-out {\n        animation: slideOut forwards var(--dev-tools-transition-duration);\n      }\n\n      .notification-tray .message .message-details {\n        max-height: 10em;\n        overflow: hidden;\n      }\n\n      .message-tray {\n        flex: auto;\n        overflow: auto;\n        max-height: 20rem;\n        user-select: text;\n      }\n\n      .message-tray .message {\n        animation: fade-in var(--dev-tools-transition-duration) ease-in;\n        padding-left: 2.25rem;\n      }\n\n      .message-tray .message.warning {\n        background-color: hsla(var(--dev-tools-yellow-hsl), 0.09);\n      }\n\n      .message-tray .message.error {\n        background-color: hsla(var(--dev-tools-red-hsl), 0.09);\n      }\n\n      .message-tray .message.error .message-heading {\n        color: hsl(var(--dev-tools-red-hsl));\n      }\n\n      .message-tray .message.warning .message-heading {\n        color: hsl(var(--dev-tools-yellow-hsl));\n      }\n\n      .message-tray .message + .message {\n        border-top: 1px solid rgba(255, 255, 255, 0.07);\n      }\n\n      .message-tray .dismiss-message,\n      .message-tray .persist {\n        display: none;\n      }\n\n      .info-tray {\n        padding: 0.75rem;\n        position: relative;\n        flex: auto;\n        overflow: auto;\n        animation: fade-in var(--dev-tools-transition-duration) ease-in;\n        user-select: text;\n      }\n\n      .info-tray dl {\n        margin: 0;\n        display: grid;\n        grid-template-columns: max-content 1fr;\n        column-gap: 0.75rem;\n        position: relative;\n      }\n\n      .info-tray dt {\n        grid-column: 1;\n        color: var(--dev-tools-text-color-emphasis);\n      }\n\n      .info-tray dt:not(:first-child)::before {\n        content: '';\n        width: 100%;\n        position: absolute;\n        height: 1px;\n        background-color: rgba(255, 255, 255, 0.1);\n        margin-top: -0.375rem;\n      }\n\n      .info-tray dd {\n        grid-column: 2;\n        margin: 0;\n      }\n\n      .info-tray :is(dt, dd):not(:last-child) {\n        margin-bottom: 0.75rem;\n      }\n\n      .info-tray dd + dd {\n        margin-top: -0.5rem;\n      }\n\n      .info-tray .live-reload-status::before {\n        content: '•';\n        color: var(--status-color);\n        width: 0.75rem;\n        display: inline-block;\n        font-size: 1rem;\n        line-height: 0.5rem;\n      }\n\n      .info-tray .copy {\n        position: fixed;\n        z-index: 1;\n        top: 0.5rem;\n        right: 0.5rem;\n      }\n\n      .info-tray .switch {\n        vertical-align: -4px;\n      }\n\n      @keyframes slideIn {\n        from {\n          transform: translateX(100%);\n          opacity: 0;\n        }\n        to {\n          transform: translateX(0%);\n          opacity: 1;\n        }\n      }\n\n      @keyframes slideOut {\n        from {\n          transform: translateX(0%);\n          opacity: 1;\n        }\n        to {\n          transform: translateX(100%);\n          opacity: 0;\n        }\n      }\n\n      @keyframes fade-in {\n        0% {\n          opacity: 0;\n        }\n      }\n\n      @keyframes bounce {\n        0% {\n          transform: scale(0.8);\n        }\n        50% {\n          transform: scale(1.5);\n          background-color: hsla(var(--dev-tools-red-hsl), 1);\n        }\n        100% {\n          transform: scale(1);\n        }\n      }\n\n      @supports (backdrop-filter: blur(1px)) {\n        .dev-tools,\n        .window,\n        .notification-tray .message {\n          backdrop-filter: blur(8px);\n        }\n        .dev-tools:hover,\n        .dev-tools.active,\n        .window,\n        .notification-tray .message {\n          background-color: var(--dev-tools-background-color-active-blurred);\n        }\n      }\n    `;\n  }\n\n  static DISMISSED_NOTIFICATIONS_IN_LOCAL_STORAGE = 'vaadin.live-reload.dismissedNotifications';\n  static ACTIVE_KEY_IN_SESSION_STORAGE = 'vaadin.live-reload.active';\n  static TRIGGERED_KEY_IN_SESSION_STORAGE = 'vaadin.live-reload.triggered';\n  static TRIGGERED_COUNT_KEY_IN_SESSION_STORAGE = 'vaadin.live-reload.triggeredCount';\n\n  static AUTO_DEMOTE_NOTIFICATION_DELAY = 5000;\n\n  static HOTSWAP_AGENT = 'HOTSWAP_AGENT';\n  static JREBEL = 'JREBEL';\n  static SPRING_BOOT_DEVTOOLS = 'SPRING_BOOT_DEVTOOLS';\n  static BACKEND_DISPLAY_NAME: Record<string, string> = {\n    HOTSWAP_AGENT: 'HotswapAgent',\n    JREBEL: 'JRebel',\n    SPRING_BOOT_DEVTOOLS: 'Spring Boot Devtools'\n  };\n\n  static get isActive() {\n    const active = window.sessionStorage.getItem(VaadinDevTools.ACTIVE_KEY_IN_SESSION_STORAGE);\n    return active === null || active !== 'false';\n  }\n\n  static notificationDismissed(persistentId: string) {\n    const shown = window.localStorage.getItem(VaadinDevTools.DISMISSED_NOTIFICATIONS_IN_LOCAL_STORAGE);\n    return shown !== null && shown.includes(persistentId);\n  }\n\n  @property({ type: String })\n  url?: string;\n\n  @property({ type: Boolean, attribute: true })\n  liveReloadDisabled?: boolean;\n\n  @property({ type: String })\n  backend?: string;\n\n  @property({ type: Number })\n  springBootLiveReloadPort?: number;\n\n  @property({ type: Boolean, attribute: false })\n  expanded: boolean = false;\n\n  @property({ type: Array, attribute: false })\n  messages: Message[] = [];\n\n  @property({ type: String, attribute: false })\n  splashMessage?: string;\n\n  @property({ type: Array, attribute: false })\n  notifications: Message[] = [];\n\n  @property({ type: String, attribute: false })\n  frontendStatus: ConnectionStatus = ConnectionStatus.UNAVAILABLE;\n\n  @property({ type: String, attribute: false })\n  javaStatus: ConnectionStatus = ConnectionStatus.UNAVAILABLE;\n\n  @state()\n  private tabs: readonly Tab[] = [\n    { id: 'log', title: 'Log', render: this.renderLog, activate: this.activateLog },\n    { id: 'info', title: 'Info', render: this.renderInfo },\n    { id: 'features', title: 'Feature Flags', render: this.renderFeatures }\n  ];\n\n  @state()\n  private activeTab: string = 'log';\n\n  @state()\n  private serverInfo: ServerInfo = {\n    flowVersion: '',\n    vaadinVersion: '',\n    javaVersion: '',\n    osVersion: '',\n    productName: ''\n  };\n\n  @state()\n  private features: Feature[] = [];\n\n  @state()\n  private unreadErrors = false;\n\n  @query('.window')\n  private root!: HTMLElement;\n\n  private javaConnection?: Connection;\n  private frontendConnection?: Connection;\n\n  private nextMessageId: number = 1;\n\n  private disableEventListener?: EventListener;\n\n  private transitionDuration: number = 0;\n\n  elementTelemetry() {\n    let data = {};\n    try {\n      // localstorage data is collected by vaadin-usage-statistics.js\n      const localStorageStatsString = localStorage.getItem('vaadin.statistics.basket');\n      if (!localStorageStatsString) {\n        // Do not send empty data\n        return;\n      }\n      data = JSON.parse(localStorageStatsString);\n    } catch (e) {\n      // In case of parse errors don't send anything\n      return;\n    }\n\n    if (this.frontendConnection) {\n      this.frontendConnection.sendTelemetry(data);\n    }\n  }\n\n  openWebSocketConnection() {\n    this.frontendStatus = ConnectionStatus.UNAVAILABLE;\n    this.javaStatus = ConnectionStatus.UNAVAILABLE;\n\n    const onConnectionError = (msg: string) => this.log(MessageType.ERROR, msg);\n    const onReload = () => {\n      if (this.liveReloadDisabled) {\n        return;\n      }\n      this.showSplashMessage('Reloading…');\n      const lastReload = window.sessionStorage.getItem(VaadinDevTools.TRIGGERED_COUNT_KEY_IN_SESSION_STORAGE);\n      const nextReload = lastReload ? parseInt(lastReload, 10) + 1 : 1;\n      window.sessionStorage.setItem(VaadinDevTools.TRIGGERED_COUNT_KEY_IN_SESSION_STORAGE, nextReload.toString());\n      window.sessionStorage.setItem(VaadinDevTools.TRIGGERED_KEY_IN_SESSION_STORAGE, 'true');\n      window.location.reload();\n    };\n\n    const frontendConnection = new Connection(this.getDedicatedWebSocketUrl());\n    frontendConnection.onHandshake = () => {\n      this.log(MessageType.LOG, 'Vaadin development mode initialized');\n      if (!VaadinDevTools.isActive) {\n        frontendConnection.setActive(false);\n      }\n      this.elementTelemetry();\n    };\n    frontendConnection.onConnectionError = onConnectionError;\n    frontendConnection.onReload = onReload;\n    frontendConnection.onStatusChange = (status: ConnectionStatus) => {\n      this.frontendStatus = status;\n    };\n    frontendConnection.onMessage = (message: any) => {\n      if (message?.command === 'serverInfo') {\n        this.serverInfo = message.data as ServerInfo;\n      } else if (message?.command === 'featureFlags') {\n        this.features = message.data.features as Feature[];\n      } else {\n        // eslint-disable-next-line no-console\n        console.error('Unknown message from front-end connection:', JSON.stringify(message));\n      }\n    };\n    this.frontendConnection = frontendConnection;\n\n    let javaConnection: Connection;\n    if (this.backend === VaadinDevTools.SPRING_BOOT_DEVTOOLS && this.springBootLiveReloadPort) {\n      javaConnection = new Connection(this.getSpringBootWebSocketUrl(window.location));\n      javaConnection.onHandshake = () => {\n        if (!VaadinDevTools.isActive) {\n          javaConnection.setActive(false);\n        }\n      };\n      javaConnection.onReload = onReload;\n      javaConnection.onConnectionError = onConnectionError;\n    } else if (this.backend === VaadinDevTools.JREBEL || this.backend === VaadinDevTools.HOTSWAP_AGENT) {\n      javaConnection = frontendConnection;\n    } else {\n      javaConnection = new Connection(undefined);\n    }\n    const prevOnStatusChange = javaConnection.onStatusChange;\n    javaConnection.onStatusChange = (status) => {\n      prevOnStatusChange(status);\n      this.javaStatus = status;\n    };\n    const prevOnHandshake = javaConnection.onHandshake;\n    javaConnection.onHandshake = () => {\n      prevOnHandshake();\n      if (this.backend) {\n        this.log(\n          MessageType.INFORMATION,\n          `Java live reload available: ${VaadinDevTools.BACKEND_DISPLAY_NAME[this.backend]}`\n        );\n      }\n    };\n    this.javaConnection = javaConnection;\n\n    if (!this.backend) {\n      this.showNotification(\n        MessageType.WARNING,\n        'Java live reload unavailable',\n        'Live reload for Java changes is currently not set up. Find out how to make use of this functionality to boost your workflow.',\n        'https://vaadin.com/docs/latest/flow/configuration/live-reload',\n        'liveReloadUnavailable'\n      );\n    }\n  }\n\n  getDedicatedWebSocketUrl(): string | undefined {\n    function getAbsoluteUrl(relative: string) {\n      // Use innerHTML to obtain an absolute URL\n      const div = document.createElement('div');\n      div.innerHTML = `<a href=\"${relative}\"/>`;\n      return (div.firstChild as HTMLLinkElement).href;\n    }\n    if (this.url === undefined) {\n      return undefined;\n    }\n    const connectionBaseUrl = getAbsoluteUrl(this.url!);\n\n    if (!connectionBaseUrl.startsWith('http://') && !connectionBaseUrl.startsWith('https://')) {\n      // eslint-disable-next-line no-console\n      console.error('The protocol of the url should be http or https for live reload to work.');\n      return undefined;\n    }\n    return `${connectionBaseUrl.replace(/^http/, 'ws')}?v-r=push&debug_window`;\n  }\n\n  getSpringBootWebSocketUrl(location: any) {\n    const { hostname } = location;\n    const wsProtocol = location.protocol === 'https:' ? 'wss' : 'ws';\n    if (hostname.endsWith('gitpod.io')) {\n      // Gitpod uses `port-url` instead of `url:port`\n      const hostnameWithoutPort = hostname.replace(/.*?-/, '');\n      return `${wsProtocol}://${this.springBootLiveReloadPort}-${hostnameWithoutPort}`;\n    } else {\n      return `${wsProtocol}://${hostname}:${this.springBootLiveReloadPort}`;\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.catchErrors();\n\n    // when focus or clicking anywhere, move the splash message to the message tray\n    this.disableEventListener = (_: any) => this.demoteSplashMessage();\n    document.body.addEventListener('focus', this.disableEventListener);\n    document.body.addEventListener('click', this.disableEventListener);\n    this.openWebSocketConnection();\n\n    const lastReload = window.sessionStorage.getItem(VaadinDevTools.TRIGGERED_KEY_IN_SESSION_STORAGE);\n    if (lastReload) {\n      const now = new Date();\n      const reloaded = `${`0${now.getHours()}`.slice(-2)}:${`0${now.getMinutes()}`.slice(\n        -2\n      )}:${`0${now.getSeconds()}`.slice(-2)}`;\n      this.showSplashMessage(`Page reloaded at ${reloaded}`);\n      window.sessionStorage.removeItem(VaadinDevTools.TRIGGERED_KEY_IN_SESSION_STORAGE);\n    }\n\n    this.transitionDuration = parseInt(\n      window.getComputedStyle(this).getPropertyValue('--dev-tools-transition-duration'),\n      10\n    );\n\n    const windowAny = window as any;\n    windowAny.Vaadin = windowAny.Vaadin || {};\n    windowAny.Vaadin.devTools = Object.assign(this, windowAny.Vaadin.devTools);\n\n    licenseInit();\n  }\n  format(o: any): string {\n    return o.toString();\n  }\n  catchErrors() {\n    // Process stored messages\n    const queue = (window as any).Vaadin.ConsoleErrors as any[];\n    if (queue) {\n      queue.forEach((args: any[]) => {\n        this.log(MessageType.ERROR, args.map((o) => this.format(o)).join(' '));\n      });\n    }\n    // Install new handler that immediately processes messages\n    (window as any).Vaadin.ConsoleErrors = {\n      push: (args: any[]) => {\n        this.log(MessageType.ERROR, args.map((o) => this.format(o)).join(' '));\n      }\n    };\n  }\n\n  disconnectedCallback() {\n    if (this.disableEventListener) {\n      document.body.removeEventListener('focus', this.disableEventListener!);\n      document.body.removeEventListener('click', this.disableEventListener!);\n    }\n    super.disconnectedCallback();\n  }\n\n  toggleExpanded() {\n    this.notifications.slice().forEach((notification) => this.dismissNotification(notification.id));\n    this.expanded = !this.expanded;\n    if (this.expanded) {\n      this.root.focus();\n    }\n  }\n\n  showSplashMessage(msg: string | undefined) {\n    this.splashMessage = msg;\n    if (this.splashMessage) {\n      if (this.expanded) {\n        this.demoteSplashMessage();\n      } else {\n        // automatically move notification to message tray after a certain amount of time\n        setTimeout(() => {\n          this.demoteSplashMessage();\n        }, VaadinDevTools.AUTO_DEMOTE_NOTIFICATION_DELAY);\n      }\n    }\n  }\n\n  demoteSplashMessage() {\n    if (this.splashMessage) {\n      this.log(MessageType.LOG, this.splashMessage);\n    }\n    this.showSplashMessage(undefined);\n  }\n\n  checkLicense(productInfo: Product) {\n    if (this.frontendConnection) {\n      this.frontendConnection.sendLicenseCheck(productInfo);\n    } else {\n      licenseCheckFailed({ message: 'Internal error: no connection', product: productInfo });\n    }\n  }\n\n  log(type: MessageType, message: string, details?: string, link?: string) {\n    const id = this.nextMessageId;\n    this.nextMessageId += 1;\n    this.messages.push({\n      id,\n      type,\n      message,\n      details,\n      link,\n      dontShowAgain: false,\n      deleted: false\n    });\n    while (this.messages.length > VaadinDevTools.MAX_LOG_ROWS) {\n      this.messages.shift();\n    }\n    this.requestUpdate();\n    this.updateComplete.then(() => {\n      // Scroll into view\n      const lastMessage = this.renderRoot.querySelector('.message-tray .message:last-child');\n      if (this.expanded && lastMessage) {\n        setTimeout(() => lastMessage.scrollIntoView({ behavior: 'smooth' }), this.transitionDuration);\n        this.unreadErrors = false;\n      } else if (type === MessageType.ERROR) {\n        this.unreadErrors = true;\n      }\n    });\n  }\n\n  showNotification(type: MessageType, message: string, details?: string, link?: string, persistentId?: string) {\n    if (persistentId === undefined || !VaadinDevTools.notificationDismissed(persistentId!)) {\n      // Do not open persistent message if another is already visible with the same persistentId\n      const matchingVisibleNotifications = this.notifications\n        .filter((notification) => notification.persistentId === persistentId)\n        .filter((notification) => !notification.deleted);\n      if (matchingVisibleNotifications.length > 0) {\n        return;\n      }\n      const id = this.nextMessageId;\n      this.nextMessageId += 1;\n      this.notifications.push({\n        id,\n        type,\n        message,\n        details,\n        link,\n        persistentId,\n        dontShowAgain: false,\n        deleted: false\n      });\n      // automatically move notification to message tray after a certain amount of time unless it contains a link\n      if (link === undefined) {\n        setTimeout(() => {\n          this.dismissNotification(id);\n        }, VaadinDevTools.AUTO_DEMOTE_NOTIFICATION_DELAY);\n      }\n      this.requestUpdate();\n    } else {\n      this.log(type, message, details, link);\n    }\n  }\n\n  dismissNotification(id: number) {\n    const index = this.findNotificationIndex(id);\n    if (index !== -1 && !this.notifications[index].deleted) {\n      const notification = this.notifications[index];\n\n      // user is explicitly dismissing a notification---after that we won't bug them with it\n      if (\n        notification.dontShowAgain &&\n        notification.persistentId &&\n        !VaadinDevTools.notificationDismissed(notification.persistentId)\n      ) {\n        let dismissed = window.localStorage.getItem(VaadinDevTools.DISMISSED_NOTIFICATIONS_IN_LOCAL_STORAGE);\n        dismissed = dismissed === null ? notification.persistentId : `${dismissed},${notification.persistentId}`;\n        window.localStorage.setItem(VaadinDevTools.DISMISSED_NOTIFICATIONS_IN_LOCAL_STORAGE, dismissed);\n      }\n\n      notification.deleted = true;\n      this.log(notification.type, notification.message, notification.details, notification.link);\n\n      // give some time for the animation\n      setTimeout(() => {\n        const idx = this.findNotificationIndex(id);\n        if (idx !== -1) {\n          this.notifications.splice(idx, 1);\n          this.requestUpdate();\n        }\n      }, this.transitionDuration);\n    }\n  }\n\n  findNotificationIndex(id: number): number {\n    let index = -1;\n    this.notifications.some((notification, idx) => {\n      if (notification.id === id) {\n        index = idx;\n        return true;\n      } else {\n        return false;\n      }\n    });\n    return index;\n  }\n\n  toggleDontShowAgain(id: number) {\n    const index = this.findNotificationIndex(id);\n    if (index !== -1 && !this.notifications[index].deleted) {\n      const notification = this.notifications[index];\n      notification.dontShowAgain = !notification.dontShowAgain;\n      this.requestUpdate();\n    }\n  }\n\n  setActive(yes: boolean) {\n    this.frontendConnection?.setActive(yes);\n    this.javaConnection?.setActive(yes);\n    window.sessionStorage.setItem(VaadinDevTools.ACTIVE_KEY_IN_SESSION_STORAGE, yes ? 'true' : 'false');\n  }\n\n  getStatusColor(status: ConnectionStatus | undefined) {\n    if (status === ConnectionStatus.ACTIVE) {\n      return css`hsl(${VaadinDevTools.GREEN_HSL})`;\n    } else if (status === ConnectionStatus.INACTIVE) {\n      return css`hsl(${VaadinDevTools.GREY_HSL})`;\n    } else if (status === ConnectionStatus.UNAVAILABLE) {\n      return css`hsl(${VaadinDevTools.YELLOW_HSL})`;\n    } else if (status === ConnectionStatus.ERROR) {\n      return css`hsl(${VaadinDevTools.RED_HSL})`;\n    } else {\n      return css`none`;\n    }\n  }\n\n  /* eslint-disable lit/no-template-arrow */\n  renderMessage(messageObject: Message) {\n    return html`\n      <div\n        class=\"message ${messageObject.type} ${messageObject.deleted ? 'animate-out' : ''} ${messageObject.details ||\n        messageObject.link\n          ? 'has-details'\n          : ''}\"\n      >\n        <div class=\"message-content\">\n          <div class=\"message-heading\">${messageObject.message}</div>\n          <div class=\"message-details\" ?hidden=\"${!messageObject.details && !messageObject.link}\">\n            ${messageObject.details ? html`<p>${messageObject.details}</p>` : ''}\n            ${messageObject.link\n              ? html`<a class=\"ahreflike\" href=\"${messageObject.link}\" target=\"_blank\">Learn more</a>`\n              : ''}\n          </div>\n          ${messageObject.persistentId\n            ? html`<div\n                class=\"persist ${messageObject.dontShowAgain ? 'on' : 'off'}\"\n                @click=${() => this.toggleDontShowAgain(messageObject.id)}\n              >\n                Don’t show again\n              </div>`\n            : ''}\n        </div>\n        <div class=\"dismiss-message\" @click=${() => this.dismissNotification(messageObject.id)}>Dismiss</div>\n      </div>\n    `;\n  }\n\n  /* eslint-disable lit/no-template-map */\n  render() {\n    return html` <div\n        class=\"window ${this.expanded ? 'visible' : 'hidden'}\"\n        tabindex=\"0\"\n        @keydown=${(e: KeyboardEvent) => e.key === 'Escape' && this.toggleExpanded()}\n      >\n        <div class=\"window-toolbar\">\n          ${this.tabs.map(\n            (tab) =>\n              html`<button\n                class=${classMap({\n                  tab: true,\n                  active: this.activeTab === tab.id,\n                  unreadErrors: tab.id === 'log' && this.unreadErrors\n                })}\n                id=\"${tab.id}\"\n                @click=${() => {\n                  this.activeTab = tab.id;\n                  if (tab.activate) tab.activate.call(this);\n                }}\n              >\n                ${tab.title}\n              </button> `\n          )}\n          <button class=\"minimize-button\" title=\"Minimize\" @click=${() => this.toggleExpanded()}>\n            <svg fill=\"none\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\">\n              <g fill=\"#fff\" opacity=\".8\">\n                <path\n                  d=\"m7.25 1.75c0-.41421.33579-.75.75-.75h3.25c2.0711 0 3.75 1.67893 3.75 3.75v6.5c0 2.0711-1.6789 3.75-3.75 3.75h-6.5c-2.07107 0-3.75-1.6789-3.75-3.75v-3.25c0-.41421.33579-.75.75-.75s.75.33579.75.75v3.25c0 1.2426 1.00736 2.25 2.25 2.25h6.5c1.2426 0 2.25-1.0074 2.25-2.25v-6.5c0-1.24264-1.0074-2.25-2.25-2.25h-3.25c-.41421 0-.75-.33579-.75-.75z\"\n                />\n                <path\n                  d=\"m2.96967 2.96967c.29289-.29289.76777-.29289 1.06066 0l5.46967 5.46967v-2.68934c0-.41421.33579-.75.75-.75.4142 0 .75.33579.75.75v4.5c0 .4142-.3358.75-.75.75h-4.5c-.41421 0-.75-.3358-.75-.75 0-.41421.33579-.75.75-.75h2.68934l-5.46967-5.46967c-.29289-.29289-.29289-.76777 0-1.06066z\"\n                />\n              </g>\n            </svg>\n          </button>\n        </div>\n        ${this.tabs.map((tab) => (this.activeTab === tab.id ? tab.render.call(this) : nothing))}\n      </div>\n\n      <div class=\"notification-tray\">${this.notifications.map((msg) => this.renderMessage(msg))}</div>\n      <div\n        class=\"dev-tools ${this.splashMessage ? 'active' : ''}${this.unreadErrors ? ' error' : ''}\"\n        @click=${() => this.toggleExpanded()}\n      >\n        ${this.unreadErrors\n          ? html`<svg\n              fill=\"none\"\n              height=\"16\"\n              viewBox=\"0 0 16 16\"\n              width=\"16\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              class=\"dev-tools-icon error\"\n            >\n              <clipPath id=\"a\"><path d=\"m0 0h16v16h-16z\" /></clipPath>\n              <g clip-path=\"url(#a)\">\n                <path\n                  d=\"m6.25685 2.09894c.76461-1.359306 2.72169-1.359308 3.4863 0l5.58035 9.92056c.7499 1.3332-.2135 2.9805-1.7432 2.9805h-11.1606c-1.529658 0-2.4930857-1.6473-1.743156-2.9805z\"\n                  fill=\"#ff5c69\"\n                />\n                <path\n                  d=\"m7.99699 4c-.45693 0-.82368.37726-.81077.834l.09533 3.37352c.01094.38726.32803.69551.71544.69551.38741 0 .70449-.30825.71544-.69551l.09533-3.37352c.0129-.45674-.35384-.834-.81077-.834zm.00301 8c.60843 0 1-.3879 1-.979 0-.5972-.39157-.9851-1-.9851s-1 .3879-1 .9851c0 .5911.39157.979 1 .979z\"\n                  fill=\"#fff\"\n                />\n              </g>\n            </svg>`\n          : html`<svg\n              fill=\"none\"\n              height=\"17\"\n              viewBox=\"0 0 16 17\"\n              width=\"16\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              class=\"dev-tools-icon logo\"\n            >\n              <g fill=\"#fff\">\n                <path\n                  d=\"m8.88273 5.97926c0 .04401-.0032.08898-.00801.12913-.02467.42848-.37813.76767-.8117.76767-.43358 0-.78704-.34112-.81171-.76928-.00481-.04015-.00801-.08351-.00801-.12752 0-.42784-.10255-.87656-1.14434-.87656h-3.48364c-1.57118 0-2.315271-.72849-2.315271-2.21758v-1.26683c0-.42431.324618-.768314.748261-.768314.42331 0 .74441.344004.74441.768314v.42784c0 .47924.39576.81265 1.11293.81265h3.41538c1.5542 0 1.67373 1.156 1.725 1.7679h.03429c.05095-.6119.17048-1.7679 1.72468-1.7679h3.4154c.7172 0 1.0145-.32924 1.0145-.80847l-.0067-.43202c0-.42431.3227-.768314.7463-.768314.4234 0 .7255.344004.7255.768314v1.26683c0 1.48909-.6181 2.21758-2.1893 2.21758h-3.4836c-1.04182 0-1.14437.44872-1.14437.87656z\"\n                />\n                <path\n                  d=\"m8.82577 15.1648c-.14311.3144-.4588.5335-.82635.5335-.37268 0-.69252-.2249-.83244-.5466-.00206-.0037-.00412-.0073-.00617-.0108-.00275-.0047-.00549-.0094-.00824-.0145l-3.16998-5.87318c-.08773-.15366-.13383-.32816-.13383-.50395 0-.56168.45592-1.01879 1.01621-1.01879.45048 0 .75656.22069.96595.6993l2.16882 4.05042 2.17166-4.05524c.2069-.47379.513-.69448.9634-.69448.5603 0 1.0166.45711 1.0166 1.01879 0 .17579-.0465.35029-.1348.50523l-3.1697 5.8725c-.00503.0096-.01006.0184-.01509.0272-.00201.0036-.00402.0071-.00604.0106z\"\n                />\n              </g>\n            </svg>`}\n\n        <span\n          class=\"status-blip\"\n          style=\"background: linear-gradient(to right, ${this.getStatusColor(\n            this.frontendStatus\n          )} 50%, ${this.getStatusColor(this.javaStatus)} 50%)\"\n        ></span>\n        ${this.splashMessage ? html`<span class=\"status-description\">${this.splashMessage}</span></div>` : nothing}\n      </div>`;\n  }\n\n  renderLog() {\n    return html`<div class=\"message-tray\">${this.messages.map((msg) => this.renderMessage(msg))}</div>`;\n  }\n  activateLog() {\n    this.unreadErrors = false;\n    this.updateComplete.then(() => {\n      const lastMessage = this.renderRoot.querySelector('.message-tray .message:last-child');\n      if (lastMessage) {\n        lastMessage.scrollIntoView();\n      }\n    });\n  }\n\n  renderInfo() {\n    return html`<div class=\"info-tray\">\n      <button class=\"button copy\" @click=${this.copyInfoToClipboard}>Copy</button>\n      <dl>\n        <dt>${this.serverInfo.productName}</dt>\n        <dd>${this.serverInfo.vaadinVersion}</dd>\n        <dt>Flow</dt>\n        <dd>${this.serverInfo.flowVersion}</dd>\n        <dt>Java</dt>\n        <dd>${this.serverInfo.javaVersion}</dd>\n        <dt>OS</dt>\n        <dd>${this.serverInfo.osVersion}</dd>\n        <dt>Browser</dt>\n        <dd>${navigator.userAgent}</dd>\n        <dt>\n          Live reload\n          <label class=\"switch\">\n            <input\n              id=\"toggle\"\n              type=\"checkbox\"\n              ?disabled=${this.liveReloadDisabled ||\n              ((this.frontendStatus === ConnectionStatus.UNAVAILABLE ||\n                this.frontendStatus === ConnectionStatus.ERROR) &&\n                (this.javaStatus === ConnectionStatus.UNAVAILABLE || this.javaStatus === ConnectionStatus.ERROR))}\n              ?checked=\"${this.frontendStatus === ConnectionStatus.ACTIVE ||\n              this.javaStatus === ConnectionStatus.ACTIVE}\"\n              @change=${(e: InputEvent) => this.setActive((e.target as HTMLInputElement).checked)}\n            />\n            <span class=\"slider\"></span>\n          </label>\n        </dt>\n        <dd class=\"live-reload-status\" style=\"--status-color: ${this.getStatusColor(this.javaStatus)}\">\n          Java ${this.javaStatus} ${this.backend ? `(${VaadinDevTools.BACKEND_DISPLAY_NAME[this.backend]})` : ''}\n        </dd>\n        <dd class=\"live-reload-status\" style=\"--status-color: ${this.getStatusColor(this.frontendStatus)}\">\n          Front end ${this.frontendStatus}\n        </dd>\n      </dl>\n    </div>`;\n  }\n\n  private renderFeatures() {\n    return html`<div class=\"features-tray\">\n      ${this.features.map(\n        (feature) => html`<div class=\"feature\">\n          <label class=\"switch\">\n            <input\n              class=\"feature-toggle\"\n              id=\"feature-toggle-${feature.id}\"\n              type=\"checkbox\"\n              ?checked=${feature.enabled}\n              @change=${(e: InputEvent) => this.toggleFeatureFlag(e, feature)}\n            />\n            <span class=\"slider\"></span>\n            ${feature.title}\n          </label>\n          <a class=\"ahreflike\" href=\"${feature.moreInfoLink}\" target=\"_blank\">Learn more</a>\n        </div>`\n      )}\n    </div>`;\n  }\n\n  copyInfoToClipboard() {\n    const items = this.renderRoot.querySelectorAll('.info-tray dt, .info-tray dd');\n    const text = Array.from(items)\n      .map((message) => (message.localName === 'dd' ? ': ' : '\\n') + message.textContent!.trim())\n      .join('')\n      .replace(/^\\n/, '');\n    copy(text);\n    this.showNotification(\n      MessageType.INFORMATION,\n      'Environment information copied to clipboard',\n      undefined,\n      undefined,\n      'versionInfoCopied'\n    );\n  }\n\n  toggleFeatureFlag(e: Event, feature: Feature) {\n    const enabled = (e.target! as HTMLInputElement).checked;\n    if (this.frontendConnection) {\n      this.frontendConnection.setFeature(feature.id, enabled);\n      this.showNotification(\n        MessageType.INFORMATION,\n        `“${feature.title}” ${enabled ? 'enabled' : 'disabled'}`,\n        feature.requiresServerRestart ? 'This feature requires a server restart' : undefined,\n        undefined,\n        `feature${feature.id}${enabled ? 'Enabled' : 'Disabled'}`\n      );\n    } else {\n      this.log(MessageType.ERROR, `Unable to toggle feature ${feature.title}: No server connection available`);\n    }\n  }\n}\n\nif (customElements.get('vaadin-dev-tools') === undefined) {\n  customElements.define('vaadin-dev-tools', VaadinDevTools);\n}\n"]}